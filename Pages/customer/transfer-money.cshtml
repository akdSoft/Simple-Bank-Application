@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model Simple_Bank_Application.Pages.customer.transfer_moneyModel
@{
	ViewBag.Title = "Transfer Money";
	Layout = "_Layout";
}

<div class="d-flex justify-content-center align-items-center">
    <div class="card bg-dark text-white p-5 text-center" style="border-radius: 1rem; width: 100%; max-width: 500px;">
        <h2 class="fw-bold mb-2 text-uppercase">transfer money</h2>

		<form asp-page-handler="Update" method="post" id="accountForm">
			<div>
				<label>Select an Account</label>
				<select asp-for="SelectedAccountId" class="form-select" onchange="document.getElementById('accountForm').submit();">
					<option value="">Select an Account</option>
					@foreach (var acc in Model.Accounts)
					{
						<option value="@acc.Value">@acc.Text</option>
					}
				</select>
				<div class="mb-4">
					<label class="form-label" for="balance">Balance:</label>
					<input type="number" id="balance" class="form-control form-control-lg" placeholder="@Model.Balance" readonly />
				</div>
			</div>
		</form>


		<form asp-page-handler="Transfer" asp-route-selectedAccountId="@Model.SelectedAccountId" asp-route-targetAccountId="@Model.TargetAccountId" asp-route-amount="@Model.Amount" method="post">
			<div class ="mb-4">
				<label class="form-label" for="targetAccountIdInput">Target Account ID:</label>
				<input type="number" class="form-control form-control-lg" targetAccountIdInput" name="TargetAccountId" />
			</div>

			<div class ="mb-4">
				<label class="form-label" for="amountInput">Amount:</label>
				<input type="number" class="form-control form-control-lg" amountInput" name="Amount" />
			</div>

			<button class="btn btn-outline-light btn-lg px-5" type="submit">Transfer</button>
		</form>

		<form method="get" asp-page="/customer/dashboard" class="mt-3">
			<button class="btn btn-outline-light btn-lg fs-6" type="submit">Return</button>
		</form>
    </div>
</div>