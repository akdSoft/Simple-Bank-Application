@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model Simple_Bank_Application.Pages.customer.dashboardModel
@{
	ViewBag.Title = "Customer Page";
	Layout = "_Layout";
}

<div class="d-flex justify-content-center align-items-center">
    <div class="card bg-dark text-white p-5 text-center" style="border-radius: 1rem; width: 100%; max-width: 500px;">
        <h2 class="fw-bold mb-2 text-uppercase">dashboard</h2>

        <form asp-page-handler="Update" method="post" id="accountForm" class="mt-3">
            <div>
                <label>Current Account</label>
                <select asp-for="SelectedId" class="form-select" onchange="document.getElementById('accountForm').submit();">
                    <option value="">Select an account</option>
                    @foreach (var acc in Model.BankAccounts)
                    {
                        <option value="@acc.Value">@acc.Text</option>
                    }
                </select>
            </div>
        </form>

        <div class="mb-4">
            <label class="form-label" for="currentBalance">Balance of Selected Account</label>
            <input type="text" id="currentBalance" class="form-control form-control-lg" readonly placeholder="@Model.CurrentBalance" />

            <label class="form-label" for="totalBalance">Total Balance</label>
            <input type="text" id="totalBalance" class="form-control form-control-lg" readonly placeholder="@Model.TotalBalance" />
            <form method="post" class="mt-3">
                <button asp-page-handler="DeleteAccount" asp-route-id="@Model.SelectedId" class="btn btn-outline-light btn-lg fs-6" type="submit">Delete Selected Account</button>
            </form>
        </div>

        <form method="get" asp-page="/customer/profile" class="mt-3">
            <button class="btn btn-outline-light btn-lg fs-6" type="submit">Profile</button>
        </form>

        <form method="get" asp-page="/customer/create-account" class="mt-3">
            <button class="btn btn-outline-light btn-lg fs-6" type="submit">Create Account</button>
        </form>

        <form method="get" asp-page="/customer/transfer-money" class="mt-3">
            <button class="btn btn-outline-light btn-lg fs-6" type="submit">Transfer Money</button>
        </form>

        <form method="get" asp-page="/customer/deposit-withdraw" class="mt-3">
            <button class="btn btn-outline-light btn-lg fs-6" type="submit">Deposit/Withdraw</button>
        </form>

        <form method="get" asp-page="/customer/transaction-history" class="mt-3">
            <button class="btn btn-outline-light btn-lg fs-6" type="submit">Transaction History</button>
        </form>

        <form asp-page-handler="logout" method="post" class="mt-3">
            <button class="btn btn-outline-light btn-lg fs-6" type="submit">Log Out</button>
        </form>
        
    </div>
</div>