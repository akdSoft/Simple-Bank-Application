@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model Simple_Bank_Application.Pages.customer.deposit_withdrawModel
@{
	ViewBag.Title = "Deposit/Withdraw";
	Layout = "_Layout";
}

<div class="d-flex justify-content-center align-items-center">
	<div class="card bg-dark text-white p-5 text-center" style="border-radius: 1rem; width: 100%; max-width: 500px;">
		<h2 class="fw-bold mb-2 text-uppercase">deposit / withdraw</h2>

		<form asp-page-handler="Update" method="post" id="accountListForm">
			<input type="hidden" asp-for="Amount" />
			<div>
				<label>Select an Account</label>
				<select asp-for="SelectedAccountId" class="form-select" onchange="document.getElementById('accountListForm').submit();">
					<option value="">Select an Account</option>
					@foreach (var acc in Model.BankAccounts)
					{
						<option value="@acc.Value">@acc.Text</option>
					}
				</select>
				<div class="mb-4">
					<label class="form-label" for="balance">Balance:</label>
					<input type="number" id="balance" class="form-control form-control-lg" placeholder="@Model.Balance" readonly />
				</div>
			</div>
		</form>

		<div class="mb-4">
			<form method="post" id="amountForm">
				<label class="form-label" for="amountInput">Amount:</label>
				<input type="hidden" asp-for="SelectedAccountId" />
				<input class="form-control form-control-lg" type="number" id="amountInput" asp-for="Amount" onchange="document.getElementById('amountForm').submit();" />
			</form>
		</div>

		<div class="mb-4">
			<form asp-page-handler="Deposit" asp-route-accountId="@Model.SelectedAccountId" asp-route-amount="@Model.Amount" method="post">
				<input  type="hidden" asp-for="SelectedAccountId" />
				<input class="form-control form-control-lg" type="hidden" asp-for="Amount" />
				<button class="btn btn-outline-light btn-lg px-5" type="submit">Deposit</button>
			</form>
		</div>

		<div class="mb-4">
			<form asp-page-handler="Withdraw" asp-route-accountId="@Model.SelectedAccountId" asp-route-amount="@Model.Amount" method="post">
				<input type="hidden" asp-for="SelectedAccountId" />
				<input class="form-control form-control-lg" type="hidden" asp-for="Amount" />
				<button class="btn btn-outline-light btn-lg px-5" type="submit">Withdraw</button>
			</form>
		</div>

		<form method="get" asp-page="/customer/dashboard" class="mt-3">
			<button class="btn btn-outline-light btn-lg fs-6" type="submit">Return</button>
		</form>
	
	</div>
</div>